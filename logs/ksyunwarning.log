[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:35] (admin:Wyf!1314@tcp(192.168.236.128:3306)/monitor_test connection OK
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:802] 内存中map:map[]
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:562] supervisor.GetRules : [{3 2023-01-30 10:56:32.911622 kis 专线端口down net.if.state 0 2 0 0 0 4 Average} {4 2023-01-30 11:55:13.551193 NAT NAT入向带宽使用率 vpc.nat.public.utilization.in 1 80 50 0 3 15 Average} {5 2023-02-01 13:07:28.550647 SLB SLB-RS-down slb.rs_down 0 1 -1 1 1 100 Average}]
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:217] boundRows.Scan {11 3 1}
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:249] boundResources.Scan {1 高速通道>金山万国-腾讯兆丰-bgp-3 2000096029 kis 5b29d632-5ba5-45fb-9eb0-476a62d0154d cn-beijing-6}
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:251] GetRuleBondResource rule id: 3, resources: [{1 高速通道>金山万国-腾讯兆丰-bgp-3 2000096029 kis 5b29d632-5ba5-45fb-9eb0-476a62d0154d cn-beijing-6}]
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:68] 本次取原始数据，同期周期为0
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:98] prepare request : GET http://monitor.console.sdns.ksyun.com:80/v2/?Action=GetMetricStatisticsBatch, uid:2000096029 region:cn-beijing-6 ns:kis metricName:net.if.state instanceId:5b29d632-5ba5-45fb-9eb0-476a62d0154d
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:217] boundRows.Scan {8 4 3}
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:249] boundResources.Scan {3 zmd_vpc_bj_NAT01 73398680 NAT 2f2de38b-59c3-450e-bcbb-1527095f77b9 cn-beijing-6}
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:251] GetRuleBondResource rule id: 4, resources: [{3 zmd_vpc_bj_NAT01 73398680 NAT 2f2de38b-59c3-450e-bcbb-1527095f77b9 cn-beijing-6}]
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:68] 本次取原始数据，同期周期为0
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:98] prepare request : GET http://monitor.console.sdns.ksyun.com:80/v2/?Action=GetMetricStatisticsBatch, uid:73398680 region:cn-beijing-6 ns:NAT metricName:vpc.nat.public.utilization.in instanceId:2f2de38b-59c3-450e-bcbb-1527095f77b9
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:217] boundRows.Scan {10 5 4}
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:249] boundResources.Scan {4 张铭达SLB：zmd-test 73398680 SLB d2cd20ae-0e79-441b-8d4b-b97b7d22bf10 cn-beijing-6}
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:251] GetRuleBondResource rule id: 5, resources: [{4 张铭达SLB：zmd-test 73398680 SLB d2cd20ae-0e79-441b-8d4b-b97b7d22bf10 cn-beijing-6}]
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:98] prepare request : GET http://monitor.console.sdns.ksyun.com:80/v2/?Action=GetMetricStatisticsBatch, uid:73398680 region:cn-beijing-6 ns:SLB metricName:slb.rs_down instanceId:d2cd20ae-0e79-441b-8d4b-b97b7d22bf10
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:820] 启动检测url:http://www.baidu.com
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:707] 开始检测url:http://www.baidu.com
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:578] serviceUrl http://www.baidu.com response Code: 200
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:714] test url http://www.baidu.com response Code:0
[2023-02-26 22:03:54] [WARNING] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:720] 报警发生：url:http://www.baidu.com unhealthyTimes:1
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:115] GetMetricStatisticsBatch http request successful recv_code:200 OK
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:123] code: 200 OK, uid:2000096029  Response body: {"getMetricStatisticsBatchResults":[{"datapoints":{"member":[{"timestamp":"2023-02-26T22:00:47Z","unixTimestamp":1677420047000,"average":"1","max":"1","min":"1","sum":"1"},{"timestamp":"2023-02-26T22:01:47Z","unixTimestamp":1677420107000,"average":"1","max":"1","min":"1","sum":"1"},{"timestamp":"2023-02-26T22:02:47Z","unixTimestamp":1677420167000,"average":"1","max":"1","min":"1","sum":"1"}]},"label":"net.if.state","Instance":"5b29d632-5ba5-45fb-9eb0-476a62d0154d"}],"responseMetadata":{"requestId":"5b29d632-5ba5-45fb-9eb0-476a62d0154d--net.if.state--2023-02-26 22:03:54.9020912 +0800 CST m=+0.027900101"}}

[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:115] GetMetricStatisticsBatch http request successful recv_code:200 OK
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:123] code: 200 OK, uid:73398680  Response body: {"getMetricStatisticsBatchResults":[{"datapoints":{"member":[{"timestamp":"2023-02-26T22:00:00Z","unixTimestamp":1677420000000,"average":"0.01","max":"0.01","min":"0.01","sum":"0"},{"timestamp":"2023-02-26T22:00:30Z","unixTimestamp":1677420030000,"average":"0.01","max":"0.01","min":"0.01","sum":"0"},{"timestamp":"2023-02-26T22:01:00Z","unixTimestamp":1677420060000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:01:30Z","unixTimestamp":1677420090000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:02:00Z","unixTimestamp":1677420120000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:02:30Z","unixTimestamp":1677420150000,"average":"0.01","max":"0.01","min":"0.01","sum":"0"}]},"label":"vpc.nat.public.utilization.in","Instance":"2f2de38b-59c3-450e-bcbb-1527095f77b9"}],"responseMetadata":{"requestId":"2f2de38b-59c3-450e-bcbb-1527095f77b9--vpc.nat.public.utilization.in--2023-02-26 22:03:54.9026129 +0800 CST m=+0.028421801"}}

[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:68] 本次取原始数据，同期周期为0
[2023-02-26 22:03:54] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:98] prepare request : GET http://monitor.console.sdns.ksyun.com:80/v2/?Action=GetMetricStatisticsBatch, uid:73398680 region:cn-beijing-6 ns:NAT metricName:vpc.nat.public.utilization.in instanceId:2f2de38b-59c3-450e-bcbb-1527095f77b9
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:115] GetMetricStatisticsBatch http request successful recv_code:200 OK
[2023-02-26 22:03:54] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:123] code: 200 OK, uid:73398680  Response body: {"getMetricStatisticsBatchResults":[{"datapoints":{"member":[{"timestamp":"2023-02-26T21:59:00Z","unixTimestamp":1677419940000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:00:00Z","unixTimestamp":1677420000000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:01:00Z","unixTimestamp":1677420060000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:02:00Z","unixTimestamp":1677420120000,"average":"0","max":"0","min":"0","sum":"0"}]},"label":"slb.rs_down","Instance":"d2cd20ae-0e79-441b-8d4b-b97b7d22bf10"}],"responseMetadata":{"requestId":"d2cd20ae-0e79-441b-8d4b-b97b7d22bf10--slb.rs_down--2023-02-26 22:03:54.9036654 +0800 CST m=+0.029474301"}}

[2023-02-26 22:03:55] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:115] GetMetricStatisticsBatch http request successful recv_code:200 OK
[2023-02-26 22:03:55] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/funcs.go:line:123] code: 200 OK, uid:73398680  Response body: {"getMetricStatisticsBatchResults":[{"datapoints":{"member":[{"timestamp":"2023-02-26T21:59:00Z","unixTimestamp":1677419940000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T21:59:30Z","unixTimestamp":1677419970000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:00:00Z","unixTimestamp":1677420000000,"average":"0.01","max":"0.01","min":"0.01","sum":"0"},{"timestamp":"2023-02-26T22:00:30Z","unixTimestamp":1677420030000,"average":"0.01","max":"0.01","min":"0.01","sum":"0"},{"timestamp":"2023-02-26T22:01:00Z","unixTimestamp":1677420060000,"average":"0","max":"0","min":"0","sum":"0"},{"timestamp":"2023-02-26T22:01:30Z","unixTimestamp":1677420090000,"average":"0","max":"0","min":"0","sum":"0"}]},"label":"vpc.nat.public.utilization.in","Instance":"2f2de38b-59c3-450e-bcbb-1527095f77b9"}],"responseMetadata":{"requestId":"2f2de38b-59c3-450e-bcbb-1527095f77b9--vpc.nat.public.utilization.in--2023-02-26 22:03:54.9789272 +0800 CST m=+0.104736101"}}

[2023-02-26 22:03:55] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:578] serviceUrl http://www.baidu.com response Code: 200
[2023-02-26 22:03:55] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:714] test url http://www.baidu.com response Code:0
[2023-02-26 22:03:55] [WARNING] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:720] 报警发生：url:http://www.baidu.com unhealthyTimes:2
[2023-02-26 22:03:56] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:578] serviceUrl http://www.baidu.com response Code: 200
[2023-02-26 22:03:56] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:714] test url http://www.baidu.com response Code:0
[2023-02-26 22:03:56] [WARNING] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:720] 报警发生：url:http://www.baidu.com unhealthyTimes:3
[2023-02-26 22:03:57] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:802] 内存中map:map[9:0xc0001ee510]
[2023-02-26 22:03:58] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:578] serviceUrl http://www.baidu.com response Code: 200
[2023-02-26 22:03:58] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:714] test url http://www.baidu.com response Code:0
[2023-02-26 22:03:58] [WARNING] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:720] 报警发生：url:http://www.baidu.com unhealthyTimes:4
[2023-02-26 22:03:59] [INFO] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:578] serviceUrl http://www.baidu.com response Code: 200
[2023-02-26 22:03:59] [DEBUG] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:714] test url http://www.baidu.com response Code:0
[2023-02-26 22:03:59] [WARNING] [com/zhangmingda3/ksyunwarning:D:/Go-Study/src/github.com/zhangmingda3/ksyunwarning/pingcurl.go:line:720] 报警发生：url:http://www.baidu.com unhealthyTimes:5
